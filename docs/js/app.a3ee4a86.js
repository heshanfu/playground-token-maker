(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],h=0,f=[];h<s.length;h++)o=s[h],i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/playground-token-maker/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("c21b"),i=r.n(n);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("main",[r("cropper")],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("span",{staticStyle:{flex:"10"}},[r("i",{staticClass:"gi gi-emerald logo"}),e._v(" Vue Token Maker")]),r("span",[r("a",{attrs:{href:"https://github.com/rolodromo/playground-token-maker"}},[r("i",{staticClass:"fab fa-github github"})])])])}],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container"},[r("div",{staticClass:"left-half"},[r("v-btn-group",[r("v-btn",{attrs:{color:"red"},nativeOn:{click:function(t){e.$refs.myFiles.click()}}},[r("i",{staticClass:"fas fa-file-upload"}),e._v(" Upload")]),r("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(t){e.rotate(-90)}}},[r("i",{staticClass:"fas fa-undo"})]),r("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(t){e.rotate(90)}}},[r("i",{staticClass:"fas fa-redo"})]),r("v-btn",{attrs:{color:"green"},nativeOn:{click:function(t){return e.saveImage(t)}}},[r("i",{staticClass:"fas fa-download"}),e._v(" Save")])],1),r("input",{ref:"myFiles",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:e.previewFiles}}),r("div",{staticClass:"croppie"},[r("vue-croppie",{ref:"croppieRef",attrs:{"enable-orientation":!0,"enable-resize":!1,viewport:{width:300,height:300,type:"circle"},"show-zoomer":!0},on:{result:e.result,update:e.crop}})],1)],1),r("div",{staticClass:"right-half"},[r("div",{staticClass:"container"},[r("div",{staticClass:"left-half",staticStyle:{flex:"0.1"}},[r("span",[e._v("color")]),r("swatches",{attrs:{colors:"text-advanced","trigger-style":{width:"32px",height:"32px",borderRadius:"3px",padding:"0px 0px"},"popover-to":"left","show-border":""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),r("div",{staticClass:"right-half"},[r("div",[r("span",[e._v("FRAMES")]),r("v-btn-group",e._l(e.FRAMES,function(t,n,i){return r("v-btn",{key:i,attrs:{color:"blue"},nativeOn:{click:function(t){e.changeFrame(n)}}},[e._v(e._s(i+1))])}))],1)])]),r("div",[r("canvas",{ref:"userImg",attrs:{id:"userImg",width:e.width,height:e.height}}),r("canvas",{ref:"overlay",attrs:{id:"overlay",width:e.width,height:e.height}}),r("canvas",{ref:"combined",attrs:{id:"combined",width:e.width,height:e.height}}),r("div",{staticClass:"cover",style:e.coverStyles}),r("a",{ref:"downloader"})])])])])},s=[],c=(r("a481"),r("8afe")),u=(r("96cf"),r("3040")),l=r("468d"),h=r.n(l),f=(r("2fac"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"button",class:[e.size,e.color]},[e._t("default")],2)}),p=[],d=(r("f386"),{name:"VBtn",props:{small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},size:{type:String,default:""},color:{type:String,deafult:"blue"}},data:function(){return{}},mounted:function(){this.size=this.$props.large?"large":this.$props.small?"small":""}}),g=d,m=(r("9716"),r("2877")),v=Object(m["a"])(g,f,p,!1,null,"4a125cdd",null);v.options.__file="Button.vue";var b,w,y=v.exports,x={name:"VBtnGroup",render:function(e){return e("ul",{class:"button-group"},this.$slots.default.map(function(t){return t.tag?e("li",[t]):t}))}},_=x,C=(r("c9a9"),Object(m["a"])(_,b,w,!1,null,"301d1c1a",null));C.options.__file="ButtonGroup.vue";var O=C.exports,I="/playground-token-maker",k={circle1:{src:"".concat(I,"/img/circle_frame_1.png"),size:{width:512,height:512},rect:[35,30,440,440],brightness:{r:.2,g:.2,b:.2}},circle3:{src:"".concat(I,"/img/circle_frame_3.png"),size:{width:512,height:512},rect:[35,35,440,440],brightness:{r:.2,g:.2,b:.2}},circle4:{src:"".concat(I,"/img/circle_frame_4.png"),size:{width:500,height:500},rect:[25,25,450,450],brightness:{r:.3,g:.3,b:.1}},circle5:{src:"".concat(I,"/img/circle_frame_5.png"),size:{width:512,height:512},rect:[75,75,365,365],brightness:{r:.3,g:.5,b:.5}},circle6:{src:"".concat(I,"/img/circle_frame_6.png"),size:{width:512,height:512},rect:[35,35,440,440],brightness:{r:.3,g:.5,b:.5}}},R={components:{VBtn:y,VBtnGroup:O,Swatches:h.a},mounted:function(){this.resize(),this.drawOverlay(),this.bind()},data:function(){var e="circle4";return{FRAMES:k,frameName:e,width:"",height:"",coverStyles:{width:"",height:""},cropped:null,uploadedUrl:"".concat(I,"/img/face.png"),color:"#b45f06",defaultBrightness:{r:.1,g:.1,b:.1}}},watch:{color:function(){this.drawOverlay()},frameName:function(){this.resize(),this.drawOverlay(),this.crop()}},computed:{croppie:function(){return this.$refs.croppieRef},userImg:function(){return this.$refs.userImg},overlay:function(){return this.$refs.overlay},combined:function(){return this.$refs.combined},userImgCtx:function(){return this.$refs.userImg.getContext("2d")},overlayCtx:function(){return this.$refs.overlay.getContext("2d")},combinedCtx:function(){return this.$refs.combined.getContext("2d")},placeholder:function(){return k[this.frameName].rect},frameSize:function(){return k[this.frameName].size},frame:function(){return k[this.frameName]},brightness:function(){return k[this.frameName].brightness||this.defaultBrightness}},methods:{resize:function(){this.width=this.frameSize.width,this.height=this.frameSize.height,this.coverStyles={width:"".concat(this.frameSize.width,"px"),height:"".concat(this.frameSize.height,"px")}},drawOverlay:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadImg(this.frame.src);case 2:t=e.sent,this.overlay.width=this.width,this.overlay.height=this.height,this.overlayCtx.drawImage(t,0,0),this.colorImage(this.overlayCtx,this.brightness,this.color);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changeFrame:function(e){e!==this.frameName&&(this.frameName=e)},crop:function(){this.croppie.result({format:"png",circle:!0,type:"rawcanvas"})},result:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.userImgCtx.clearRect(0,0,this.userImg.width,this.userImg.height),(r=this.userImgCtx).drawImage.apply(r,[t].concat(Object(c["a"])(this.placeholder)));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),loadImg:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new Image,e.abrupt("return",new Promise(function(e,n){r.onload=function(){return e(r)},r.onerror=n,r.src=t}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),rotate:function(e){this.croppie.rotate(e)},bind:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.croppie.bind({url:this.uploadedUrl});case 2:this.crop();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),previewFiles:function(e){var t=this,r=e.target.files;if(r&&r[0]){var n=new FileReader;n.onload=function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.uploadedUrl=r.target.result,t.bind(),t.crop();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.readAsDataURL(r[0])}},saveImage:function(){this.combinedCtx.drawImage(this.userImg,0,0),this.combinedCtx.drawImage(this.overlay,0,0),this.cropped=this.combined.toDataURL("image/png",1);var e=this.$refs.downloader;e.href=this.cropped,e.download="token.png",e.click(),this.combinedCtx.clearRect(0,0,this.combined.width,this.combined.height)},colorImage:function(e,t,r){for(var n=e.getImageData(0,0,this.width,this.height),i=n.data,a=this.hexToRgb(r),o=0,s=i.length;o<s;o+=4)if(0!==i[o+3]){var c=t.r*i[o]+t.g*i[o+1]+t.b*i[o+2];i[o]=c+a.r,i[o+1]=c+a.g,i[o+2]=c+a.b}e.putImageData(n,0,0)},hexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}}},S=R,j=(r("d915"),Object(m["a"])(S,o,s,!1,null,"2e0c47e0",null));j.options.__file="Cropper.vue";var z=j.exports,$={name:"App",components:{Cropper:z}},B=$,F=(r("034f"),Object(m["a"])(B,i,a,!1,null,null,null));F.options.__file="App.vue";var M=F.exports,N=r("09f1"),E=r.n(N);n["a"].use(E.a),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(M)}}).$mount("#app")},8133:function(e,t,r){},9716:function(e,t,r){"use strict";var n=r("ffe1"),i=r.n(n);i.a},a26c:function(e,t,r){},c21b:function(e,t,r){},c9a9:function(e,t,r){"use strict";var n=r("a26c"),i=r.n(n);i.a},d915:function(e,t,r){"use strict";var n=r("8133"),i=r.n(n);i.a},ffe1:function(e,t,r){}});
//# sourceMappingURL=app.a3ee4a86.js.map