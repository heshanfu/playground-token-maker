webpackJsonp([1],{100:function(t,e){},102:function(t,e){},103:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"container"},[r("div",{staticClass:"left-half"},[r("v-btn-group",[r("v-btn",{attrs:{color:"red"},nativeOn:{click:function(e){t.$refs.myFiles.click()}}},[r("i",{staticClass:"fas fa-file-upload"}),t._v(" Upload")]),t._v(" "),r("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(e){t.rotate(-90)}}},[r("i",{staticClass:"fas fa-undo"})]),t._v(" "),r("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(e){t.rotate(90)}}},[r("i",{staticClass:"fas fa-redo"})]),t._v(" "),r("v-btn",{attrs:{color:"green"},nativeOn:{click:function(e){return t.saveImage(e)}}},[r("i",{staticClass:"fas fa-download"}),t._v(" Save")])],1),t._v(" "),r("input",{ref:"myFiles",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.previewFiles}}),t._v(" "),r("div",{staticClass:"croppie"},[r("vue-croppie",{ref:"croppieRef",attrs:{enableOrientation:!0,enableResize:!1,viewport:{width:300,height:300,type:"circle"},showZoomer:!0},on:{result:t.result,update:t.crop}})],1)],1),t._v(" "),r("div",{staticClass:"right-half"},[r("div",{staticClass:"container"},[r("div",{staticClass:"left-half",staticStyle:{flex:"0.1"}},[r("span",[t._v("color")]),t._v(" "),r("swatches",{attrs:{colors:"text-advanced","trigger-style":{width:"32px",height:"32px",borderRadius:"3px",padding:"0px 0px"},"popover-to":"left","show-border":""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),t._v(" "),r("div",{staticClass:"right-half"},[r("div",[r("span",[t._v("FRAMES")]),t._v(" "),r("v-btn-group",t._l(t.FRAMES,function(e,a,i){return r("v-btn",{key:i,attrs:{color:"blue"},nativeOn:{click:function(e){t.changeFrame(a)}}},[t._v(t._s(i+1))])}))],1)])]),t._v(" "),r("div",[r("canvas",{ref:"userImg",attrs:{id:"userImg",width:t.width,height:t.height}}),t._v(" "),r("canvas",{ref:"overlay",attrs:{id:"overlay",width:t.width,height:t.height}}),t._v(" "),r("canvas",{ref:"combined",attrs:{id:"combined",width:t.width,height:t.height}}),t._v(" "),r("div",{staticClass:"cover",style:t.coverStyles}),t._v(" "),r("a",{ref:"downloader"})])])])])},i=[],n={render:a,staticRenderFns:i};e.a=n},104:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),r("main",[r("cropper")],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[r("span",[r("i",{staticClass:"gi gi-emerald logo"}),t._v(" Vue Token Maker")])])}],n={render:a,staticRenderFns:i};e.a=n},27:function(t,e,r){"use strict";var a=r(56);e.a={name:"app",components:{Cropper:a.a}}},28:function(t,e,r){"use strict";var a=r(29),i=r.n(a),n=r(87),s=r.n(n),c=r(92),o=r.n(c),u=r(95),l=r.n(u),f=r(96),h=r(99),d=r(101),p=r.n(d),g=r(102),v=(r.n(g),{circle1:{src:"/static/img/circle_frame_1.png",size:{width:512,height:512},rect:[35,30,440,440],brightness:{r:.2,g:.2,b:.2}},circle3:{src:"/static/img/circle_frame_3.png",size:{width:512,height:512},rect:[35,35,440,440],brightness:{r:.2,g:.2,b:.2}},circle4:{src:"/static/img/circle_frame_4.png",size:{width:500,height:500},rect:[25,25,450,450],brightness:{r:.3,g:.3,b:.1}},circle5:{src:"/static/img/circle_frame_5.png",size:{width:512,height:512},rect:[75,75,365,365],brightness:{r:.3,g:.5,b:.5}},circle6:{src:"/static/img/circle_frame_6.png",size:{width:512,height:512},rect:[35,35,440,440],brightness:{r:.3,g:.5,b:.5}}});e.a={components:{VBtn:f.a,VBtnGroup:h.a,Swatches:p.a},mounted:function(){this.resize(),this.drawOverlay(),this.bind()},data:function(){return{FRAMES:v,frameName:"circle4",width:"",height:"",coverStyles:{width:"",height:""},cropped:null,uploadedUrl:"http://hbimg.b0.upaiyun.com/bda0df2067833be91bc4809bfbbfe5ae9b353a64121e2-crHsAo",color:"#615192",colors:[["#0D2700","#1B4C00","#349500","#3CAD00"],["#2C2900","#575100","#ABA000","#C7BA00"],["#3a1111","#560c0c","#AD0000","#D10000"],["#13073a","#261758","#615192","#887caf"],["#2C1900","#573200","#AB6200","#C77200"]],defaultBrightness:{r:.1,g:.1,b:.1}}},watch:{color:function(){this.drawOverlay()},frameName:function(){this.resize(),this.drawOverlay(),this.crop()}},computed:{croppie:function(){return this.$refs.croppieRef},userImg:function(){return this.$refs.userImg},overlay:function(){return this.$refs.overlay},combined:function(){return this.$refs.combined},userImgCtx:function(){return this.$refs.userImg.getContext("2d")},overlayCtx:function(){return this.$refs.overlay.getContext("2d")},combinedCtx:function(){return this.$refs.combined.getContext("2d")},placeholder:function(){return v[this.frameName].rect},frameSize:function(){return v[this.frameName].size},frame:function(){return v[this.frameName]},brightness:function(){return v[this.frameName].brightness||this.defaultBrightness}},methods:{resize:function(){this.width=this.frameSize.width,this.height=this.frameSize.height,this.coverStyles={width:this.frameSize.width+"px",height:this.frameSize.height+"px"}},drawOverlay:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadImg(t.frame.src);case 2:r=e.sent,t.overlay.width=t.width,t.overlay.height=t.height,t.overlayCtx.drawImage(r,0,0),t.colorImage(t.overlayCtx,t.brightness,t.color);case 7:case"end":return e.stop()}},e,t)}))()},changeFrame:function(t){t!==this.frameName&&(this.frameName=t)},crop:function(){this.croppie.result({format:"png",circle:!0,type:"rawcanvas"})},result:function(t){var e=this;return l()(o.a.mark(function r(){var a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.userImgCtx.clearRect(0,0,e.userImg.width,e.userImg.height),(a=e.userImgCtx).drawImage.apply(a,[t].concat(s()(e.placeholder)));case 2:case"end":return r.stop()}},r,e)}))()},loadImg:function(t){var e=this;return l()(o.a.mark(function r(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Image,e.abrupt("return",new i.a(function(e,r){a.onload=function(){return e(a)},a.onerror=r,a.src=t}));case 2:case"end":return e.stop()}},r,e)}))()},rotate:function(t){this.croppie.rotate(t)},bind:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.croppie.bind({url:t.uploadedUrl});case 2:t.crop();case 3:case"end":return e.stop()}},e,t)}))()},previewFiles:function(t){var e=this,r=t.target.files;if(r&&r[0]){var a=new FileReader;a.onload=function(){var t=l()(o.a.mark(function t(r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.uploadedUrl=r.target.result,e.bind(),e.crop();case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),a.readAsDataURL(r[0])}},saveImage:function(){this.combinedCtx.drawImage(this.userImg,0,0),this.combinedCtx.drawImage(this.overlay,0,0),this.cropped=this.combined.toDataURL("image/png",1);var t=this.$refs.downloader;t.href=this.cropped,t.download="token.png",t.click(),this.combinedCtx.clearRect(0,0,this.combined.width,this.combined.height)},colorImage:function(t,e,r){for(var a=t.getImageData(0,0,this.width,this.height),i=a.data,n=this.hexToRgb(r),s=0,c=i.length;s<c;s+=4)if(0!==i[s+3]){var o=e.r*i[s]+e.g*i[s+1]+e.b*i[s+2];i[s]=o+n.r,i[s+1]=o+n.g,i[s+2]=o+n.b}t.putImageData(a,0,0)},hexToRgb:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,a){return e+e+r+r+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}}}},47:function(t,e,r){"use strict";e.a={name:"v-btn",props:{small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},size:{type:String,default:""},color:{type:String,deafult:"blue"}},data:function(){return{}},mounted:function(){this.size=this.$props.large?"large":this.$props.small?"small":""}}},48:function(t,e,r){"use strict";e.a={name:"v-btn-group",render:function(t){return t("ul",{class:"button-group"},this.$slots.default.map(function(e){return e.tag?t("li",[e]):e}))}}},49:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(50),i=r(53),n=r(105),s=r.n(n);a.a.config.productionTip=!1,a.a.use(s.a),new a.a({el:"#app",template:"<App/>",components:{App:i.a}})},53:function(t,e,r){"use strict";function a(t){r(54)}var i=r(27),n=r(104),s=r(11),c=a,o=s(i.a,n.a,!1,c,null,null);e.a=o.exports},54:function(t,e){},56:function(t,e,r){"use strict";function a(t){r(57)}var i=r(28),n=r(103),s=r(11),c=a,o=s(i.a,n.a,!1,c,"data-v-0a78f914",null);e.a=o.exports},57:function(t,e){},96:function(t,e,r){"use strict";function a(t){r(97)}var i=r(47),n=r(98),s=r(11),c=a,o=s(i.a,n.a,!1,c,"data-v-aa8f05b2",null);e.a=o.exports},97:function(t,e){},98:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"button",class:[t.size,t.color]},[t._t("default")],2)},i=[],n={render:a,staticRenderFns:i};e.a=n},99:function(t,e,r){"use strict";function a(t){r(100)}var i=r(48),n=r(11),s=a,c=n(i.a,null,!1,s,"data-v-409735c4",null);e.a=c.exports}},[49]);
//# sourceMappingURL=app.10072574cbe44d73057d.js.map